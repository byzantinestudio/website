{"version":3,"sources":["app.min.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","_functions2","obj","__esModule","default","_interopRequireDefault","$","init","./functions","2","Object","defineProperty","value","_utils2","bootstrap","resizeTimer","containsPAR","window","location","search","split","containsURLParams","url","indexOf","arr","getPARValue","addPAR","$element","token","href","attr","toggleActiveRule","click","matchClasses","this","find","removeClass","toggleClass","isMobile","moveAccordionHeader","scrollToElement","insertGoogleFonts","append","$activeHeading","detach","resizeFunction","calculateRuleHeight","initMarqueeSlider","not","slick","dots","arrows","infinite","adaptiveHeight","responsive","breakpoint","settings","on","event","currentSlide","nextSlide","console","log","initWindowSizeChecker","resize","clearTimeout","setTimeout","initMobileLinks","parValue","each","./utils","3","Utils","getClasses","filterClasses","classes","filter","classItem","height","css","toggleRuleContent","idname","id","$elements","addClass","msg","classesOk","width","browser","mobile","animate","scrollTop","offset","top"],"mappings":"CAAA,SAAUA,EAAEC,EAAEC,EAAEC,GAAG,SAASC,EAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,IAAIE,EAAkB,mBAATC,SAAqBA,QAAQ,IAAIF,GAAGC,EAAE,OAAOA,EAAEF,GAAE,GAAI,GAAGI,EAAE,OAAOA,EAAEJ,GAAE,GAAI,IAAIK,EAAE,IAAIC,MAAM,uBAAuBN,EAAE,KAAK,MAAMK,EAAEE,KAAK,mBAAmBF,EAAE,IAAIG,EAAEX,EAAEG,IAAIS,YAAYb,EAAEI,GAAG,GAAGU,KAAKF,EAAEC,QAAQ,SAASd,GAAG,IAAIE,EAAED,EAAEI,GAAG,GAAGL,GAAG,OAAOI,EAAEF,GAAIF,IAAIa,EAAEA,EAAEC,QAAQd,EAAEC,EAAEC,EAAEC,GAAG,OAAOD,EAAEG,GAAGS,QAAkD,IAAI,IAA1CL,EAAkB,mBAATD,SAAqBA,QAAgBH,EAAE,EAAEA,EAAEF,EAAEa,OAAOX,IAAID,EAAED,EAAEE,IAAI,OAAOD,EAAvb,EAA4ba,GAAG,SAAST,EAAQU,EAAOJ,GACvd,aAEA,IAEIK,EAEJ,SAAgCC,GAAO,OAAOA,GAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAFrEG,CAFDf,EAAQ,gBAMzBgB,EAAE,WACAL,EAAYG,QAAQG,WAGnBC,cAAc,IAAIC,GAAG,SAASnB,EAAQU,EAAOJ,GAChD,aAEAc,OAAOC,eAAef,EAAS,cAC7BgB,OAAO,IAGT,IAEIC,EAEJ,SAAgCX,GAAO,OAAOA,GAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAFzEG,CAFDf,EAAQ,YAMjBwB,EAAY,WAEER,EAAE,cACCA,EAAE,gBADrB,IAEIS,EAMAC,EAAc,WAChB,GAAIC,OAAOC,SAASC,OAAOC,MAAM,SAAS,GACxC,OAAO,GAOPC,EAAoB,SAA2BC,GAEjD,GAAIA,EAAIC,QAAQ,MAAQ,EAAG,CACzB,IAAIC,EAAMF,EAAIF,MAAM,KAEpB,OAAIE,EAAIxB,OAAS,GAAgB,KAAX0B,EAAI,GAM1B,OAAO,GAOPC,EAAc,WAChB,OAAOR,OAAOC,SAASC,OAAOC,MAAM,SAAS,IAM3CM,EAAS,SAAgBC,EAAUC,EAAOhB,GAC5C,IAAIiB,EAAOF,EAASG,KAAK,QACzBD,EAAOA,EAAOD,EAAQ,OAAShB,EAC/Be,EAASG,KAAK,OAAQD,IAMpBE,EAAmB,WAELzB,EAAE,iBAER0B,MAAM,WAIdnB,EAAQT,QAAQ6B,aAAa3B,EAAE4B,OAEf5B,EAAE,cAAc6B,KAAK,WAC3BC,YAAY,UACtB9B,EAAE4B,MAAMG,YAAY,UAEhBxB,EAAQT,QAAQkC,aAClBC,IACA1B,EAAQT,QAAQoC,gBAAgBlC,EAAE4B,WAKpCO,EAAoB,WACtBnC,EAAE,QAAQoC,OAAO,qFAGfH,EAAsB,WACxB,IAAII,EAAiBrC,EAAE,wBACZA,EAAE,cAERoC,OAAOC,EAAeC,WAMzBC,EAAiB,WACnBhC,EAAQT,QAAQ0C,uBAGdC,EAAoB,WACtBzC,EAAE,cAAc0C,IAAI,sBAAsBC,OACxCC,MAAM,EACNC,QAAQ,EACRC,UAAU,EACVC,gBAAgB,EAChBC,aACEC,WAAY,IACZC,UACEN,MAAM,OAKRrC,EAAQT,QAAQkC,YAClBhC,EAAE,gBAAgBwB,KAAK,MAAO,sDAGhCxB,EAAE,cAAcmD,GAAG,aAAc,SAAUC,EAAOT,EAAOU,EAAcC,GACrEC,QAAQC,IAAI,eAERjD,EAAQT,QAAQkC,YAClBuB,QAAQC,IAAI,aACZxD,EAAE,gBAAgBwB,KAAK,MAAO,wDAE9B+B,QAAQC,IAAI,iBACZxD,EAAE,gBAAgBwB,KAAK,MAAO,uCAKhCiC,EAAwB,WAC1BzD,EAAEW,QAAQ+C,OAAO,WACfC,aAAalD,GACbA,EAAcmD,WAAWrB,EAAgB,QAIzCsB,EAAkB,WACpB7D,EAAE,eAAewB,KAAK,OAAQ,iDAC9BxB,EAAE,gBAAgBwB,KAAK,OAAQ,wDAC/BxB,EAAE,iBAAiBwB,KAAK,OAAQ,wDAChCxB,EAAE,eAAewB,KAAK,OAAQ,mEAC9BxB,EAAE,eAAewB,KAAK,OAAQ,mEAC9BxB,EAAE,eAAewB,KAAK,OAAQ,mEAC9BxB,EAAE,eAAewB,KAAK,OAAQ,mEAC9BxB,EAAE,gBAAgBwB,KAAK,OAAQ,oDAoCjC,OACEvB,KA/BS,WAcT,GAZAM,EAAQT,QAAQ0C,sBAChBf,IACAc,IACAE,IACAgB,IACAtB,IAEI5B,EAAQT,QAAQkC,aAClB6B,IACA5B,KAGEvB,IAAe,CACjB,IAAIoD,EAAW3C,IAEfnB,EAAE,+BAA+B+D,KAAK,WAEhC/D,EAAE4B,MAAMJ,KAAK,QAAQhC,SACnBuB,EAAkBf,EAAE4B,MAAMJ,KAAK,SACjCJ,EAAOpB,EAAE4B,MAAO,IAAKkC,GAErB1C,EAAOpB,EAAE4B,MAAO,IAAKkC,SAvKjB,GAkLhBxE,EAAQQ,QAAUU,IAEfwD,UAAU,IAAIC,GAAG,SAASjF,EAAQU,EAAOJ,GAC5C,aAEAc,OAAOC,eAAef,EAAS,cAC7BgB,OAAO,IAOT,IAAI4D,EAAQ,WAKV,IAOIC,EAAa,SAAoB9C,GACnC,OAAOA,EAASG,KAAK,SAASV,MAAM,QAMlCsD,EAAgB,SAAuBC,GACzC,OAAOA,EAAQC,OAAO,SAAUC,GAC9B,GAAkB,WAAdA,EACF,MAAqB,iBAAdA,KAkBT/B,EAAsB,WACxB,GAAIxC,EAAE,kBAAkBR,OAAQ,CAC9B,IAAIgF,EAASxE,EAAE,kBAAkBwE,SACjCxE,EAAE,kBAAkByE,IAAI,SAAUD,KAOlCE,EAAoB,SAA2BC,GAEjD,IAAIC,EAAK,IAAMD,EACXE,EAAY7E,EAAE,kBAAkB6B,KAAK,aAEzCgD,EAAUC,SAAS,eACnBD,EAAU/C,YAAY,YAEtB9B,EAAE,kBAAkB6B,KAAK,gBAAgBC,YAAY,eAErD9B,EAAE4E,GAAI9C,YAAY,eAClB9B,EAAE4E,GAAI7C,YAAY,YAElBS,KAqBF,OACEgB,IAhFQ,SAAauB,GACrBxB,QAAQC,IAAIuB,IAgFZpD,aAxDiB,SAAsBN,GACvC,IAAIgD,EAAUF,EAAW9C,GACrB2D,EAAYZ,EAAcC,GAE9BK,EAAkBM,EAAU,KAqD5BxC,oBAAqBA,EACrBR,SAVa,WACb,GAAIhC,EAAEW,QAAQsE,QAAU,KAAOjF,EAAEkF,QAAQC,OACvC,OAAO,GASTjD,gBApBoB,SAAyBb,GAC7CrB,EAAE,cAAcoF,SACdC,UAAWhE,EAASiE,SAASC,KAAO,IACnC,OAxEK,GA6FZjG,EAAQQ,QAAUoE,YAEP","file":"../app.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\n\nvar _functions = require(\"./functions\");\n\nvar _functions2 = _interopRequireDefault(_functions);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n$(function () {\n  _functions2.default.init();\n});\n\n},{\"./functions\":2}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = require('./utils');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar bootstrap = function () {\n\n  var $marquees = $(\".l-marquee\"),\n      $marqueeImgs = $('.marquee-img'),\n      resizeTimer,\n      leadpages_input_data = {};\n\n  /*\n   Check if URL contains PAR\n   */\n  var containsPAR = function containsPAR() {\n    if (window.location.search.split('&PAR=')[1]) {\n      return true;\n    }\n  };\n\n  /*\n   Check if URL contains params\n   */\n  var containsURLParams = function containsURLParams(url) {\n\n    if (url.indexOf(\"?\") > -1) {\n      var arr = url.split('?');\n\n      if (url.length > 1 && arr[1] !== '') {\n        return true;\n      } else {\n        return false;\n      }\n    } else {\n      return false;\n    }\n  };\n\n  /*\n   Get PAR\n   */\n  var getPARValue = function getPARValue() {\n    return window.location.search.split('&PAR=')[1];\n  };\n\n  /*\n   Add PAR Links\n   */\n  var addPAR = function addPAR($element, token, value) {\n    var href = $element.attr('href');\n    href = href + token + 'PAR=' + value;\n    $element.attr('href', href);\n  };\n\n  /*\n   Toggle Active Rule\n   */\n  var toggleActiveRule = function toggleActiveRule() {\n\n    var $headings = $('.rule-heading');\n\n    $headings.click(function () {\n\n      // $('.rule.fadeOutDown').removeClass('fadeOutDown');\n\n      _utils2.default.matchClasses($(this));\n\n      var $elements = $('.rules-nav').find('.active');\n      $elements.removeClass('active');\n      $(this).toggleClass('active');\n\n      if (_utils2.default.isMobile()) {\n        moveAccordionHeader();\n        _utils2.default.scrollToElement($(this));\n      }\n    });\n  };\n\n  var insertGoogleFonts = function insertGoogleFonts() {\n    $('head').append('<link href=\"https://fonts.googleapis.com/css?family=Open+Sans\" rel=\"stylesheet\">');\n  };\n\n  var moveAccordionHeader = function moveAccordionHeader() {\n    var $activeHeading = $('.rule-heading.active');\n    var $nav = $('.rules-nav');\n\n    $nav.append($activeHeading.detach());\n  };\n\n  /*\n   Resize\n   */\n  var resizeFunction = function resizeFunction() {\n    _utils2.default.calculateRuleHeight();\n  };\n\n  var initMarqueeSlider = function initMarqueeSlider() {\n    $(\".l-marquee\").not('.slick-initialized').slick({\n      dots: true,\n      arrows: false,\n      infinite: false,\n      adaptiveHeight: true,\n      responsive: [{\n        breakpoint: 768,\n        settings: {\n          dots: true\n        }\n      }]\n    });\n\n    if (_utils2.default.isMobile()) {\n      $('.marquee-img').attr('src', 'http://simpleblend.net/marquee_header_keno_new.png');\n    }\n\n    $(\".l-marquee\").on('breakpoint', function (event, slick, currentSlide, nextSlide) {\n      console.log('is breaking');\n\n      if (_utils2.default.isMobile()) {\n        console.log('is mobile');\n        $('.marquee-img').attr('src', 'http://simpleblend.net/marquee_header_keno_new.png');\n      } else {\n        console.log('is not mobile');\n        $('.marquee-img').attr('src', '../img/marquee-keno-desktop.jpg');\n      }\n    });\n  };\n\n  var initWindowSizeChecker = function initWindowSizeChecker() {\n    $(window).resize(function () {\n      clearTimeout(resizeTimer);\n      resizeTimer = setTimeout(resizeFunction, 250);\n    });\n  };\n\n  var initMobileLinks = function initMobileLinks() {\n    $('.link-login').attr('href', 'https://info.michiganlottery.com/?NeoDL=Login');\n    $('.link-signup').attr('href', 'https://info.michiganlottery.com/?NeoDL=Registration');\n    $('.link-playnow').attr('href', 'https://info.michiganlottery.com/?NeoDL=Registration');\n    $('.link-game1').attr('href', 'https://info.michiganlottery.com/?NeoDL=Game&PlayMode=D&GID=265');\n    $('.link-game2').attr('href', 'https://info.michiganlottery.com/?NeoDL=Game&PlayMode=D&GID=354');\n    $('.link-game3').attr('href', 'https://info.michiganlottery.com/?NeoDL=Game&PlayMode=D&GID=410');\n    $('.link-game4').attr('href', 'https://info.michiganlottery.com/?NeoDL=Game&PlayMode=D&GID=565');\n    $('.banner-link').attr('href', 'https://m.michiganlottery.com/m_promotions?&c=m');\n  };\n\n  /*\n   Init app\n   */\n  var init = function init() {\n\n    _utils2.default.calculateRuleHeight();\n    toggleActiveRule();\n    resizeFunction();\n    initMarqueeSlider();\n    initWindowSizeChecker();\n    insertGoogleFonts();\n\n    if (_utils2.default.isMobile()) {\n      initMobileLinks();\n      moveAccordionHeader();\n    }\n\n    if (containsPAR()) {\n      var parValue = getPARValue();\n\n      $('a:not(\"#footer_phone_text\")').each(function () {\n\n        if ($(this).attr('href').length) {\n          if (containsURLParams($(this).attr('href'))) {\n            addPAR($(this), '&', parValue);\n          } else {\n            addPAR($(this), '?', parValue);\n          }\n        }\n      });\n    }\n  };\n\n  return {\n    init: init\n  };\n}(); // leadpages_input_data variables come from the template.json \"variables\" section\nexports.default = bootstrap;\n\n},{\"./utils\":3}],3:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/*\n\nLogger\n\n*/\nvar Utils = function () {\n\n  /*\n   Logger\n   */\n  var log = function log(msg) {\n    console.log(msg);\n  };\n\n  /*\n   Get Classes\n   */\n  var getClasses = function getClasses($element) {\n    return $element.attr('class').split(/\\s+/);\n  };\n\n  /*\n   Filter Classes\n   */\n  var filterClasses = function filterClasses(classes) {\n    return classes.filter(function (classItem) {\n      if (classItem !== 'active') {\n        return classItem !== 'rule-heading';\n      }\n    });\n  };\n\n  /*\n   Match Classes\n   */\n  var matchClasses = function matchClasses($element) {\n    var classes = getClasses($element);\n    var classesOk = filterClasses(classes);\n\n    toggleRuleContent(classesOk[0]);\n  };\n\n  /*\n   Calculate current rule height\n   */\n  var calculateRuleHeight = function calculateRuleHeight() {\n    if ($('.rule.fadeInUp').length) {\n      var height = $('.rule.fadeInUp').height();\n      $('.rules-content').css('height', height);\n    }\n  };\n\n  /*\n   Toggle Rule Content\n   */\n  var toggleRuleContent = function toggleRuleContent(idname) {\n\n    var id = \"#\" + idname;\n    var $elements = $('.rules-content').find('.fadeInUp');\n\n    $elements.addClass('fadeOutDown');\n    $elements.removeClass('fadeInUp');\n\n    $('.rule.animated').find('.fadeOutDown').removeClass('fadeOutDown');\n\n    $(id).removeClass('fadeOutDown');\n    $(id).toggleClass('fadeInUp');\n\n    calculateRuleHeight();\n  };\n\n  /*\n   Scroll to element\n   */\n  var scrollToElement = function scrollToElement($element) {\n    $('html, body').animate({\n      scrollTop: $element.offset().top + -20\n    }, 500);\n  };\n\n  /*\n   Check if mobile\n   */\n  var isMobile = function isMobile() {\n    if ($(window).width() < 768 && $.browser.mobile) {\n      return true;\n    }\n  };\n\n  return {\n    log: log,\n    matchClasses: matchClasses,\n    calculateRuleHeight: calculateRuleHeight,\n    isMobile: isMobile,\n    scrollToElement: scrollToElement\n  };\n}();\n\nexports.default = Utils;\n\n},{}]},{},[1])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJqcy9hcHAuanMiLCJqcy9mdW5jdGlvbnMuanMiLCJqcy91dGlscy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUE7Ozs7OztBQUVBLEVBQUUsWUFBVztBQUNYLHNCQUFVLElBQVY7QUFDRCxDQUZEOzs7Ozs7Ozs7QUNEQTs7Ozs7O0FBRUEsSUFBTSxZQUFhLFlBQVc7O0FBRTVCLE1BQUksWUFBWSxFQUFFLFlBQUYsQ0FBaEI7QUFBQSxNQUNJLGVBQWUsRUFBRSxjQUFGLENBRG5CO0FBQUEsTUFFSSxXQUZKO0FBQUEsTUFHSSx1QkFBdUIsRUFIM0I7O0FBS0E7OztBQUtBLE1BQU0sY0FBYyxTQUFkLFdBQWMsR0FBVztBQUM3QixRQUFHLE9BQU8sUUFBUCxDQUFnQixNQUFoQixDQUF1QixLQUF2QixDQUE2QixPQUE3QixFQUFzQyxDQUF0QyxDQUFILEVBQTZDO0FBQzNDLGFBQU8sSUFBUDtBQUNEO0FBQ0YsR0FKRDs7QUFPQTs7O0FBS0EsTUFBTSxvQkFBb0IsU0FBcEIsaUJBQW9CLENBQVMsR0FBVCxFQUFjOztBQUV0QyxRQUFHLElBQUksT0FBSixDQUFZLEdBQVosSUFBbUIsQ0FBQyxDQUF2QixFQUEwQjtBQUN4QixVQUFJLE1BQU0sSUFBSSxLQUFKLENBQVUsR0FBVixDQUFWOztBQUVBLFVBQUksSUFBSSxNQUFKLEdBQWEsQ0FBYixJQUFrQixJQUFJLENBQUosTUFBVyxFQUFqQyxFQUFxQztBQUNuQyxlQUFPLElBQVA7QUFFRCxPQUhELE1BR087QUFDTCxlQUFPLEtBQVA7QUFDRDtBQUVGLEtBVkQsTUFVTztBQUNMLGFBQU8sS0FBUDtBQUNEO0FBRUYsR0FoQkQ7O0FBbUJBOzs7QUFLQSxNQUFNLGNBQWMsU0FBZCxXQUFjLEdBQVc7QUFDN0IsV0FBTyxPQUFPLFFBQVAsQ0FBZ0IsTUFBaEIsQ0FBdUIsS0FBdkIsQ0FBNkIsT0FBN0IsRUFBc0MsQ0FBdEMsQ0FB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QSxRQUFJLFlBQVksRUFBRSxnQkFBRixFQUFvQixJQUFwQixDQUF5QixXQUF6QixDQUFoQjs7QUFFQSxjQUFVLFFBQVYsQ0FBbUIsYUFBbkI7QUFDQSxjQUFVLFdBQVYsQ0FBc0IsVUFBdEI7O0FBRUEsTUFBRSxnQkFBRixFQUFvQixJQUFwQixDQUF5QixjQUF6QixFQUF5QyxXQUF6QyxDQUFxRCxhQUFyRDs7QUFJQSxNQUFFLEVBQUYsRUFBTSxXQUFOLENBQWtCLGFBQWxCO0FBQ0EsTUFBRSxFQUFGLEVBQU0sV0FBTixDQUFrQixVQUFsQjs7QUFFQTtBQUVELEdBakJEOztBQW9CQTs7O0FBS0EsTUFBSSxrQkFBa0IsU0FBbEIsZUFBa0IsQ0FBUyxRQUFULEVBQW1CO0FBQ3ZDLE1BQUUsWUFBRixFQUFnQixPQUFoQixDQUF3QjtBQUN0QixpQkFBVyxTQUFTLE1BQVQsR0FBa0IsR0FBbEIsR0FBd0IsQ0FBQztBQURkLEtBQXhCLEVBRUcsR0FGSDtBQUdELEdBSkQ7O0FBT0E7OztBQUtBLE1BQUksV0FBVyxTQUFYLFFBQVcsR0FBVztBQUN4QixRQUFHLEVBQUUsTUFBRixFQUFVLEtBQVYsS0FBb0IsR0FBcEIsSUFBMkIsRUFBRSxPQUFGLENBQVUsTUFBeEMsRUFBZ0Q7QUFDOUMsYUFBTyxJQUFQO0FBQ0Q7QUFDRixHQUpEOztBQU9BLFNBQU87QUFDTCxTQUFLLEdBREE7QUFFTCxrQkFBYyxZQUZUO0FBR0wseUJBQXFCLG1CQUhoQjtBQUlMLGNBQVUsUUFKTDtBQUtMLHFCQUFpQjtBQUxaLEdBQVA7QUFRRCxDQXhIYSxFQUFkOztrQkEwSGUsSyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJpbXBvcnQgYm9vdHN0cmFwIGZyb20gXCIuL2Z1bmN0aW9uc1wiO1xuXG4kKGZ1bmN0aW9uKCkge1xuICBib290c3RyYXAuaW5pdCgpOyAgXG59KTtcbiIsIi8vIGxlYWRwYWdlc19pbnB1dF9kYXRhIHZhcmlhYmxlcyBjb21lIGZyb20gdGhlIHRlbXBsYXRlLmpzb24gXCJ2YXJpYWJsZXNcIiBzZWN0aW9uXG5pbXBvcnQgVXRpbHMgZnJvbSAnLi91dGlscyc7XG5cbmNvbnN0IGJvb3RzdHJhcCA9IChmdW5jdGlvbigpIHtcblxuICB2YXIgJG1hcnF1ZWVzID0gJChcIi5sLW1hcnF1ZWVcIiksXG4gICAgICAkbWFycXVlZUltZ3MgPSAkKCcubWFycXVlZS1pbWcnKSxcbiAgICAgIHJlc2l6ZVRpbWVyLFxuICAgICAgbGVhZHBhZ2VzX2lucHV0X2RhdGEgPSB7fTtcblxuICAvKlxuXG4gIENoZWNrIGlmIFVSTCBjb250YWlucyBQQVJcblxuICAqL1xuICBjb25zdCBjb250YWluc1BBUiA9IGZ1bmN0aW9uKCkge1xuICAgIGlmKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3BsaXQoJyZQQVI9JylbMV0pIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfTtcblxuXG4gIC8qXG5cbiAgQ2hlY2sgaWYgVVJMIGNvbnRhaW5zIHBhcmFtc1xuXG4gICovXG4gIGNvbnN0IGNvbnRhaW5zVVJMUGFyYW1zID0gZnVuY3Rpb24odXJsKSB7XG5cbiAgICBpZih1cmwuaW5kZXhPZihcIj9cIikgPiAtMSkge1xuICAgICAgdmFyIGFyciA9IHVybC5zcGxpdCgnPycpO1xuXG4gICAgICBpZiAodXJsLmxlbmd0aCA+IDEgJiYgYXJyWzFdICE9PSAnJykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gIH1cblxuXG4gIC8qXG5cbiAgR2V0IFBBUlxuXG4gICovXG4gIGNvbnN0IGdldFBBUlZhbHVlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3BsaXQoJyZQQVI9JylbMV07XG4gIH07XG5cblxuICAvKlxuXG4gIEFkZCBQQVIgTGlua3NcblxuICAqL1xuICBjb25zdCBhZGRQQVIgPSBmdW5jdGlvbigkZWxlbWVudCwgdG9rZW4sIHZhbHVlKSB7XG4gICAgdmFyIGhyZWYgPSAkZWxlbWVudC5hdHRyKCdocmVmJyk7XG4gICAgaHJlZiA9IGhyZWYgKyB0b2tlbiArICdQQVI9JyArIHZhbHVlO1xuICAgICRlbGVtZW50LmF0dHIoJ2hyZWYnLCBocmVmKTtcbiAgfVxuXG5cblxuICAvKlxuXG4gIFRvZ2dsZSBBY3RpdmUgUnVsZVxuXG4gICovXG4gIGNvbnN0IHRvZ2dsZUFjdGl2ZVJ1bGUgPSBmdW5jdGlvbigpIHtcblxuICAgIHZhciAkaGVhZGluZ3MgPSAkKCcucnVsZS1oZWFkaW5nJyk7XG5cbiAgICAkaGVhZGluZ3MuY2xpY2soZnVuY3Rpb24oKSB7XG5cbiAgICAgIC8vICQoJy5ydWxlLmZhZGVPdXREb3duJykucmVtb3ZlQ2xhc3MoJ2ZhZGVPdXREb3duJyk7XG5cbiAgICAgIFV0aWxzLm1hdGNoQ2xhc3NlcygkKHRoaXMpKTtcblxuICAgICAgdmFyICRlbGVtZW50cyA9ICQoJy5ydWxlcy1uYXYnKS5maW5kKCcuYWN0aXZlJyk7XG4gICAgICAkZWxlbWVudHMucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgJCh0aGlzKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XG5cbiAgICAgIGlmICggVXRpbHMuaXNNb2JpbGUoKSApIHtcbiAgICAgICAgbW92ZUFjY29yZGlvbkhlYWRlcigpO1xuICAgICAgICBVdGlscy5zY3JvbGxUb0VsZW1lbnQoJCh0aGlzKSk7XG4gICAgICB9XG5cblxuXG4gICAgfSk7XG5cbiAgfTtcblxuXG4gIGNvbnN0IGluc2VydEdvb2dsZUZvbnRzID0gZnVuY3Rpb24oKSB7XG4gICAgJCgnaGVhZCcpLmFwcGVuZCgnPGxpbmsgaHJlZj1cImh0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzP2ZhbWlseT1PcGVuK1NhbnNcIiByZWw9XCJzdHlsZXNoZWV0XCI+Jyk7XG4gIH07XG5cblxuXG5cblxuXG5cblxuICBjb25zdCBtb3ZlQWNjb3JkaW9uSGVhZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyICRhY3RpdmVIZWFkaW5nID0gJCgnLnJ1bGUtaGVhZGluZy5hY3RpdmUnKTtcbiAgICB2YXIgJG5hdiA9ICQoJy5ydWxlcy1uYXYnKTtcblxuICAgICRuYXYuYXBwZW5kKCAkYWN0aXZlSGVhZGluZy5kZXRhY2goKSApO1xuXG4gIH1cblxuXG5cblxuICAvKlxuXG4gIFJlc2l6ZVxuXG4gICovXG4gIGNvbnN0IHJlc2l6ZUZ1bmN0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgVXRpbHMuY2FsY3VsYXRlUnVsZUhlaWdodCgpO1xuICB9O1xuXG5cbiAgY29uc3QgaW5pdE1hcnF1ZWVTbGlkZXIgPSBmdW5jdGlvbigpIHtcbiAgICAkKFwiLmwtbWFycXVlZVwiKS5ub3QoJy5zbGljay1pbml0aWFsaXplZCcpLnNsaWNrKHtcbiAgICAgIGRvdHM6IHRydWUsXG4gICAgICBhcnJvd3M6IGZhbHNlLFxuICAgICAgaW5maW5pdGU6IGZhbHNlLFxuICAgICAgYWRhcHRpdmVIZWlnaHQ6IHRydWUsXG4gICAgICByZXNwb25zaXZlOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBicmVha3BvaW50OiA3NjgsXG4gICAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICAgIGRvdHM6IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgXVxuICAgIH0pO1xuXG5cbiAgICBpZiggVXRpbHMuaXNNb2JpbGUoKSApIHtcbiAgICAgICQoJy5tYXJxdWVlLWltZycpLmF0dHIoJ3NyYycsICdodHRwOi8vc2ltcGxlYmxlbmQubmV0L21hcnF1ZWVfaGVhZGVyX2tlbm9fbmV3LnBuZycpO1xuICAgIH1cblxuXG4gICAgJChcIi5sLW1hcnF1ZWVcIikub24oJ2JyZWFrcG9pbnQnLCBmdW5jdGlvbihldmVudCwgc2xpY2ssIGN1cnJlbnRTbGlkZSwgbmV4dFNsaWRlKSB7XG4gICAgICBjb25zb2xlLmxvZygnaXMgYnJlYWtpbmcnKTtcblxuICAgICAgaWYoIFV0aWxzLmlzTW9iaWxlKCkgKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdpcyBtb2JpbGUnKTtcbiAgICAgICAgJCgnLm1hcnF1ZWUtaW1nJykuYXR0cignc3JjJywgJ2h0dHA6Ly9zaW1wbGVibGVuZC5uZXQvbWFycXVlZV9oZWFkZXJfa2Vub19uZXcucG5nJyk7XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdpcyBub3QgbW9iaWxlJyk7XG4gICAgICAgICQoJy5tYXJxdWVlLWltZycpLmF0dHIoJ3NyYycsICcuLi9pbWcvbWFycXVlZS1rZW5vLWRlc2t0b3AuanBnJyk7XG5cbiAgICAgIH1cblxuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IGluaXRXaW5kb3dTaXplQ2hlY2tlciA9IGZ1bmN0aW9uKCkge1xuICAgICQod2luZG93KS5yZXNpemUoZnVuY3Rpb24oKSB7XG4gICAgICBjbGVhclRpbWVvdXQocmVzaXplVGltZXIpO1xuICAgICAgcmVzaXplVGltZXIgPSBzZXRUaW1lb3V0KHJlc2l6ZUZ1bmN0aW9uLCAyNTApO1xuICAgIH0pO1xuICB9O1xuXG5cbiAgY29uc3QgaW5pdE1vYmlsZUxpbmtzID0gZnVuY3Rpb24oKSB7XG4gICAgJCgnLmxpbmstbG9naW4nKS5hdHRyKCdocmVmJywgJ2h0dHBzOi8vaW5mby5taWNoaWdhbmxvdHRlcnkuY29tLz9OZW9ETD1Mb2dpbicpO1xuICAgICQoJy5saW5rLXNpZ251cCcpLmF0dHIoJ2hyZWYnLCAnaHR0cHM6Ly9pbmZvLm1pY2hpZ2FubG90dGVyeS5jb20vP05lb0RMPVJlZ2lzdHJhdGlvbicpO1xuICAgICQoJy5saW5rLXBsYXlub3cnKS5hdHRyKCdocmVmJywgJ2h0dHBzOi8vaW5mby5taWNoaWdhbmxvdHRlcnkuY29tLz9OZW9ETD1SZWdpc3RyYXRpb24nKTtcbiAgICAkKCcubGluay1nYW1lMScpLmF0dHIoJ2hyZWYnLCAnaHR0cHM6Ly9pbmZvLm1pY2hpZ2FubG90dGVyeS5jb20vP05lb0RMPUdhbWUmUGxheU1vZGU9RCZHSUQ9MjY1Jyk7XG4gICAgJCgnLmxpbmstZ2FtZTInKS5hdHRyKCdocmVmJywgJ2h0dHBzOi8vaW5mby5taWNoaWdhbmxvdHRlcnkuY29tLz9OZW9ETD1HYW1lJlBsYXlNb2RlPUQmR0lEPTM1NCcpO1xuICAgICQoJy5saW5rLWdhbWUzJykuYXR0cignaHJlZicsICdodHRwczovL2luZm8ubWljaGlnYW5sb3R0ZXJ5LmNvbS8/TmVvREw9R2FtZSZQbGF5TW9kZT1EJkdJRD00MTAnKTtcbiAgICAkKCcubGluay1nYW1lNCcpLmF0dHIoJ2hyZWYnLCAnaHR0cHM6Ly9pbmZvLm1pY2hpZ2FubG90dGVyeS5jb20vP05lb0RMPUdhbWUmUGxheU1vZGU9RCZHSUQ9NTY1Jyk7XG4gICAgJCgnLmJhbm5lci1saW5rJykuYXR0cignaHJlZicsICdodHRwczovL20ubWljaGlnYW5sb3R0ZXJ5LmNvbS9tX3Byb21vdGlvbnM/JmM9bScpO1xuICB9O1xuXG5cbiAgLypcblxuICBJbml0IGFwcFxuXG4gICovXG4gIGNvbnN0IGluaXQgPSBmdW5jdGlvbigpIHtcblxuICAgIFV0aWxzLmNhbGN1bGF0ZVJ1bGVIZWlnaHQoKTtcbiAgICB0b2dnbGVBY3RpdmVSdWxlKCk7XG4gICAgcmVzaXplRnVuY3Rpb24oKTtcbiAgICBpbml0TWFycXVlZVNsaWRlcigpO1xuICAgIGluaXRXaW5kb3dTaXplQ2hlY2tlcigpO1xuICAgIGluc2VydEdvb2dsZUZvbnRzKCk7XG5cbiAgICBpZiggVXRpbHMuaXNNb2JpbGUoKSApIHtcbiAgICAgIGluaXRNb2JpbGVMaW5rcygpO1xuICAgICAgbW92ZUFjY29yZGlvbkhlYWRlcigpO1xuICAgIH1cblxuXG4gICAgaWYoIGNvbnRhaW5zUEFSKCkgKSB7XG4gICAgICB2YXIgcGFyVmFsdWUgPSBnZXRQQVJWYWx1ZSgpO1xuXG4gICAgICAkKCdhOm5vdChcIiNmb290ZXJfcGhvbmVfdGV4dFwiKScpLmVhY2goZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgaWYoJCh0aGlzKS5hdHRyKCdocmVmJykubGVuZ3RoKSB7XG4gICAgICAgICAgaWYoY29udGFpbnNVUkxQYXJhbXMoICQodGhpcykuYXR0cignaHJlZicpICkpIHtcbiAgICAgICAgICAgIGFkZFBBUigkKHRoaXMpLCAnJicsIHBhclZhbHVlKTtcblxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhZGRQQVIoJCh0aGlzKSwgJz8nLCBwYXJWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgIH0pO1xuXG4gICAgfVxuXG5cbiAgfTtcblxuXG4gIHJldHVybiB7XG4gICAgaW5pdDogaW5pdFxuICB9O1xuXG5cbn0pKCk7XG5cbmV4cG9ydCBkZWZhdWx0IGJvb3RzdHJhcDtcbiIsIi8qXG5cbkxvZ2dlclxuXG4qL1xuY29uc3QgVXRpbHMgPSAoZnVuY3Rpb24oKSB7XG5cbiAgLypcblxuICBMb2dnZXJcblxuICAqL1xuICBjb25zdCBsb2cgPSBmdW5jdGlvbihtc2cpIHtcbiAgICBjb25zb2xlLmxvZyhtc2cpO1xuICB9O1xuXG5cbiAgLypcblxuICBHZXQgQ2xhc3Nlc1xuXG4gICovXG4gIGNvbnN0IGdldENsYXNzZXMgPSBmdW5jdGlvbigkZWxlbWVudCkge1xuICAgIHJldHVybiAkZWxlbWVudC5hdHRyKCdjbGFzcycpLnNwbGl0KC9cXHMrLyk7XG4gIH07XG5cblxuICAvKlxuXG4gIEZpbHRlciBDbGFzc2VzXG5cbiAgKi9cbiAgY29uc3QgZmlsdGVyQ2xhc3NlcyA9IGZ1bmN0aW9uKGNsYXNzZXMpIHtcbiAgICByZXR1cm4gY2xhc3Nlcy5maWx0ZXIoZnVuY3Rpb24oY2xhc3NJdGVtKSB7XG4gICAgICBpZihjbGFzc0l0ZW0gIT09ICdhY3RpdmUnKSB7XG4gICAgICAgIHJldHVybiBjbGFzc0l0ZW0gIT09ICdydWxlLWhlYWRpbmcnO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG5cbiAgLypcblxuICBNYXRjaCBDbGFzc2VzXG5cbiAgKi9cbiAgY29uc3QgbWF0Y2hDbGFzc2VzID0gZnVuY3Rpb24oJGVsZW1lbnQpIHtcbiAgICB2YXIgY2xhc3NlcyA9IGdldENsYXNzZXMoJGVsZW1lbnQpO1xuICAgIHZhciBjbGFzc2VzT2sgPSBmaWx0ZXJDbGFzc2VzKGNsYXNzZXMpO1xuXG4gICAgdG9nZ2xlUnVsZUNvbnRlbnQoY2xhc3Nlc09rWzBdKTtcblxuICB9O1xuXG5cbiAgLypcblxuICBDYWxjdWxhdGUgY3VycmVudCBydWxlIGhlaWdodFxuXG4gICovXG4gIGNvbnN0IGNhbGN1bGF0ZVJ1bGVIZWlnaHQgPSBmdW5jdGlvbigpIHtcbiAgICBpZigkKCcucnVsZS5mYWRlSW5VcCcpLmxlbmd0aCkge1xuICAgICAgdmFyIGhlaWdodCA9ICQoJy5ydWxlLmZhZGVJblVwJykuaGVpZ2h0KCk7XG4gICAgICAkKCcucnVsZXMtY29udGVudCcpLmNzcygnaGVpZ2h0JywgaGVpZ2h0KTtcbiAgICB9XG4gIH07XG5cblxuICAvKlxuXG4gIFRvZ2dsZSBSdWxlIENvbnRlbnRcblxuICAqL1xuICB2YXIgdG9nZ2xlUnVsZUNvbnRlbnQgPSBmdW5jdGlvbihpZG5hbWUpIHtcblxuICAgIHZhciBpZCA9IFwiI1wiICsgaWRuYW1lO1xuICAgIHZhciAkZWxlbWVudHMgPSAkKCcucnVsZXMtY29udGVudCcpLmZpbmQoJy5mYWRlSW5VcCcpO1xuXG4gICAgJGVsZW1lbnRzLmFkZENsYXNzKCdmYWRlT3V0RG93bicpO1xuICAgICRlbGVtZW50cy5yZW1vdmVDbGFzcygnZmFkZUluVXAnKTtcblxuICAgICQoJy5ydWxlLmFuaW1hdGVkJykuZmluZCgnLmZhZGVPdXREb3duJykucmVtb3ZlQ2xhc3MoJ2ZhZGVPdXREb3duJyk7XG5cblxuXG4gICAgJChpZCkucmVtb3ZlQ2xhc3MoJ2ZhZGVPdXREb3duJyk7XG4gICAgJChpZCkudG9nZ2xlQ2xhc3MoJ2ZhZGVJblVwJyk7XG5cbiAgICBjYWxjdWxhdGVSdWxlSGVpZ2h0KCk7XG5cbiAgfTtcblxuXG4gIC8qXG5cbiAgU2Nyb2xsIHRvIGVsZW1lbnRcblxuICAqL1xuICB2YXIgc2Nyb2xsVG9FbGVtZW50ID0gZnVuY3Rpb24oJGVsZW1lbnQpIHtcbiAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XG4gICAgICBzY3JvbGxUb3A6ICRlbGVtZW50Lm9mZnNldCgpLnRvcCArIC0yMFxuICAgIH0sIDUwMCk7XG4gIH07XG5cblxuICAvKlxuXG4gIENoZWNrIGlmIG1vYmlsZVxuXG4gICovXG4gIHZhciBpc01vYmlsZSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmKCQod2luZG93KS53aWR0aCgpIDwgNzY4ICYmICQuYnJvd3Nlci5tb2JpbGUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfTtcblxuXG4gIHJldHVybiB7XG4gICAgbG9nOiBsb2csXG4gICAgbWF0Y2hDbGFzc2VzOiBtYXRjaENsYXNzZXMsXG4gICAgY2FsY3VsYXRlUnVsZUhlaWdodDogY2FsY3VsYXRlUnVsZUhlaWdodCxcbiAgICBpc01vYmlsZTogaXNNb2JpbGUsXG4gICAgc2Nyb2xsVG9FbGVtZW50OiBzY3JvbGxUb0VsZW1lbnRcbiAgfTtcblxufSkoKTtcblxuZXhwb3J0IGRlZmF1bHQgVXRpbHM7XG4iXX0=\n"]}